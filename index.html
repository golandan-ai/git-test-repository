<!DOCTYPE html>
<html>
<head>
    <title>Liaoshi Test</title>
</head>
<body>
    <h1>Liaoshi Test</h1>
    <pre id="output">Starting...</pre>

    <script>
        function log(msg) {
            document.getElementById('output').innerHTML += '\n' + msg;
        }
        log('Step 1: JS works');
    </script>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

    <script>
        log('Step 2: After supabase tag');

        if (typeof supabase !== 'undefined') {
            log('Step 3: supabase exists');

            var url = "https://skbmyruppgthmfytofvf.supabase.co";
            var key = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrYm15cnVwcGd0aG1meXRvZnZmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MDc1MjMsImV4cCI6MjA4NDM4MzUyM30.nHpeBFlXBfLY3K2jbNN_UX5h9J3IbXk7BsFhxct4xo0";

            var client = supabase.createClient(url, key);
            log('Step 4: Client created');

            client.from('test01').select('*').then(function(res) {
                if (res.error) {
                    log('Error: ' + res.error.message);
                } else {
                    log('SUCCESS! Found ' + res.data.length + ' rows:');
                    res.data.forEach(function(row) {
                        log('- ' + row.translated);
                    });
                }
            });
        } else {
            log('FAILED: supabase not found');
        }
    </script>
</body>
</html>
